<html lang="en">


<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="viewport"
        content="width=device-width,height=device-height,inital-scale=1.0,maximum-scale=1.0,user-scalable=no;">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <title>淘宝锦鲤csgo磨损定制official</title>
    
<!--     <style>
        .aaa{
            float: float;
        }
        .bbb{
            
        }
        .abcd{
            width: 120px;
        }
    </style> -->
    <meta charset="UTF-8">
    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    
    <style type="text/css">
        div[class='re_div'] {
            /* width: 19.02%; */
            width: 100%;
           

            text-align: center;
            color: rgb(255, 255, 255);

        }

        div[class="itemsContent"] {
            color: rgb(3, 2, 2);
            background-color: aliceblue;
        }
    </style>
</head>

<body>

    <div id="availableFloats"
        style="  position: absolute;z-index: 9999;background-color: aliceblue;width: 100%;height: 100%;">
        <div onclick="document.getElementById('availableFloats').style.display='none'"
            style="width: 10%;background-color: rgb(235, 250, 19);color: brown; text-align: center;"> 关闭</div>
        <div>

            <span>选择你的生日</span><input type="date" id="generateAvailabe" value="2001-01-01" placeholder="请选择做的生日">
            <input type="button" value="一键导出可做枪皮" onclick="check_Anime_Concentration(1,'generateAvailabe') "><br>

            <div id="autoOut" class="re_div" style="width: 100%;">

                <div class="re_div" style="background: rgb(94, 152, 217); margin-top: 0px;">工业级 <div id="industry"
                        class="itemsContent"></div>
                </div>
                <div class="re_div" style="background: rgb(75, 105, 255); margin-top: 0px;">军规级 <div id="mil-spec"
                        class="itemsContent"></div>
                </div>
                <div class="re_div" style="background: rgb(136, 71, 255)"> 受限级 <div id="restricted"
                        class="itemsContent"></div>
                </div>
                <div class="re_div" style="background-color: rgb(211, 44, 230);"> 保密级<div id="classfied"
                        class="itemsContent"></div>
                </div>
                <div class="re_div" style="background-color:  rgb(235, 75, 75)"> 隐秘级 <div id="covert"
                        class="itemsContent"></div>
                </div>
            </div>


        </div>


    </div>


    <div id="left-bar" style="flex: left;">
        <div id="flo_div" style="flex: left;">
        </div>
    </div>
    <div id="right_bar">

        <span>当前平均磨损：</span> <input type="tel" max="1" min="0" placeholder="当前平均磨损" id="tenCaculate_value">
    </div>

    <div id="paras_needed" style="width: 100%;">
        <div  > <span>精度</span>
            <input type="tel" value="8" id="similarity" placeholder="精度" style="width: 30%;">
        </div>

        <span>输入最小磨损：</span> <input type="tel" value="0" id="minFloat" alt="最小磨损" name="最小磨损" title="最小磨损"
            style="width:10%;">
        <br><span>输入最大磨损：</span><input type="tel" value="1" id="maxFloat" alt="最大磨损" name="最大磨损" placeholder="最大磨损"
            style="width: 10%;"><br>



        <span>输入你要做的磨损：</span> <input type="tel" value="20010101" id="wantedFloat" placeholder="请输入8位整数"
            style="width: 20%;">
        <input type="button" value="查询  " onclick="check_Anime_Concentration(0,'wantedFloat')"><br>
        <span>选择你的生日</span><input type="date" id="birthday" value="2001-01-01" placeholder="请选择做的生日">
        <input type="button" value="查询 " onclick="check_Anime_Concentration(0,'birthday')"><br>

    </div>

    <div>请输入完整8位生日以后运行</div>
    <span id="outPut_queryFloat"> </span>






















    
    <script>
        ///////生成10个输入框
        let flo_div = document.getElementById("flo_div")
        for (let i = 0; i < 10; i++) {
            let solo_input = document.createElement('input')
            solo_input.style.width = '50%'

            solo_input.className = 'solo_input'
            solo_input.type = "tel"
            solo_input.onchange = caculte_myFloat
            solo_input.value = 0.01 * i
            flo_div.appendChild(solo_input)
        }
        function getIeee754_32(number) {
            let temp_array = new Float32Array([number])
            return temp_array[0]
        }
        function nineFloats_repeate(averFloat, dig) {
                    let finalFloat = 0.00
                    for (let i = 0; i < 9; i++) {
                        finalFloat = getIeee754_32(finalFloat + getIeee754_32(averFloat))
                    }
                    return finalFloat
                }

                function tradeUp(totalFloat, minFloat, maxFloat) {
                    let tradeUpResult = getIeee754_32(getIeee754_32(getIeee754_32(totalFloat) / getIeee754_32(10)) * (getIeee754_32(maxFloat) - getIeee754_32(minFloat)) + getIeee754_32(minFloat))
                    return tradeUpResult
                }

        /////计算10简单结果
        function caculte_myFloat() {
            var myItems = document.getElementsByClassName("solo_input")
            let tenCaculate_value = getIeee754_32(0)
            for (let item of myItems) {
                tenCaculate_value = getIeee754_32(tenCaculate_value + getIeee754_32(item.value))
            }
            document.getElementById('tenCaculate_value').value = getIeee754_32(tenCaculate_value / getIeee754_32(10))
        }

        caculte_myFloat()
        ///计算10简单结果结束


        var finalFloats = []



        ///////////////////////////////////////////一件导出该区间的4种磨损是否可做
        function check_Anime_Concentration(methord, birthday_input_id) {

            if (methord == 0 && (birthday_input_id == "birthday")) {


                finalFloats = []

                document.getElementById("outPut_queryFloat").innerHTML = ''
                let maxFloat = document.getElementById("maxFloat").value
                let minFloat = document.getElementById("minFloat").value
                let wantedFloat = document.getElementById(birthday_input_id).value.replace('-', '').replace('-', '')
                let similarity = document.getElementById("similarity").value
                myfloat_single_test(wantedFloat, minFloat, maxFloat, similarity)


            } else if (methord == 0 && birthday_input_id == "wantedFloat") {


                finalFloats = []
                document.getElementById("outPut_queryFloat").innerHTML = ''
                let maxFloat = document.getElementById("maxFloat").value
                let minFloat = document.getElementById("minFloat").value
                let wantedFloat = document.getElementById("wantedFloat").value.replace('-', '').replace('-', '')
                let similarity = document.getElementById("similarity").value
                myfloat_single_test(wantedFloat, minFloat, maxFloat, similarity)


            } else if (methord == 1 && (birthday_input_id == "generateAvailabe")) {


                finalItems = []

                finalFloats = []


                var tempFloats_arr = floatsCollect(defaultJson)

                let wantedFloat = document.getElementById(birthday_input_id).value.replace('-', '').replace('-', '')

                console.log(wantedFloat)


                for (let dig = 8; dig < 12; dig++) {
                    var similarity = 8
                    let ieee32_wanted = getIeee754_32(wantedFloat / (10 ** dig))
                    if (String(ieee32_wanted * 10 ** dig).substr(0, similarity) == wantedFloat) {
                        let averFloat = (wantedFloat / (10 ** dig) - minFloat) / (maxFloat - minFloat)
                        testDig(dig, averFloat)
                        finalFloats[dig] = (`${ieee32_wanted}可做：`)
                    } else if (String(ieee32_wanted * 10 ** dig).substr(0, similarity) > wantedFloat) {
                        let temp_ieee32_wanted = ieee32_wanted
                        let num = 1
                        while (String(getIeee754_32(temp_ieee32_wanted) * 10 ** dig).substr(0, similarity) > wantedFloat) {
                            num++
                            temp_ieee32_wanted = temp_ieee32_wanted - num / (10 ** dig)
                        }
                        if (String(getIeee754_32(temp_ieee32_wanted) * 10 ** dig).substr(0, similarity) == wantedFloat) {
                            let averFloat = (wantedFloat / (10 ** dig) - minFloat) / (maxFloat - minFloat)
                            testDig(dig, averFloat)
                            finalFloats[dig] = (`${temp_ieee32_wanted}可做：`)
                        } else {
                            finalFloats[dig] = (`磨损：  ${wantedFloat / (10 ** dig)}  不存在，相似磨损为 ${ieee32_wanted} </br>`)
                        }
                    } else {
                        let temp_ieee32_wanted = ieee32_wanted
                        let num = 1
                        while (String(getIeee754_32(temp_ieee32_wanted) * 10 ** dig).substr(0, similarity) < wantedFloat) {
                            num++
                            temp_ieee32_wanted = temp_ieee32_wanted + num / (10 ** dig)
                        }
                        if (String(getIeee754_32(temp_ieee32_wanted) * 10 ** dig).substr(0, similarity) == wantedFloat) {

                            let averFloat = (wantedFloat / (10 ** dig) - minFloat) / (maxFloat - minFloat)
                            testDig(dig, averFloat)
                            finalFloats[dig] = (`${temp_ieee32_wanted}可做：`)

                        } else {
                            finalFloats[dig] = (`磨损：  ${wantedFloat / (10 ** dig)}  不存在，相似磨损为 ${ieee32_wanted} </br>`)

                        }
                    }

                    console.log(finalFloats)
                    var availableFloatsArr = finalItems[dig]
                    /*                   console.log("availableFloatsArr")
                                       console.log(availableFloatsArr) */
                    if (availableFloatsArr == undefined) { continue }
                    for (let grades in defaultJson) {

                        if (grades == '工业级') {

                            document.getElementById('industry').innerHTML += (`<br /><span>${finalFloats[dig]}<span>`)

                        } else if (grades == '军规级') {
                            document.getElementById('mil-spec').innerHTML += (`<br /><span>${finalFloats[dig]}<span>`)
                        } else if (grades == "受限级") {
                            document.getElementById("restricted").innerHTML += (`<br /><span>${finalFloats[dig]}<span>`)
                        } else if (grades == '保密级') {
                            document.getElementById('classfied').innerHTML += (`<br /><span>${finalFloats[dig]}<span>`)
                        } else if (grades == "隐秘级") {
                            document.getElementById("covert").innerHTML += (`<br /><span>${finalFloats[dig]}<span>`)
                        }
                    }

                    for (let grades in defaultJson) {
                        console.log(grades)
                        for (let floats in defaultJson[grades]) {
                            /*   console.log(floats) */
                            console.log(availableFloatsArr, grades, dig)

                            if (in_arry(floats, availableFloatsArr) && grades == '工业级') {

                                document.getElementById('industry').innerHTML += (`<span>${defaultJson[grades][floats]}、</span>`)

                            } else if (in_arry(floats, availableFloatsArr) && grades == '军规级') {
                                document.getElementById('mil-spec').innerHTML += (`<span>${defaultJson[grades][floats]}、</span>`)
                            } else if (in_arry(floats, availableFloatsArr) && grades == "受限级") {
                                document.getElementById("restricted").innerHTML += (`<span>${defaultJson[grades][floats]}、</span>`)
                            } else if (in_arry(floats, availableFloatsArr) && grades == '保密级') {
                                document.getElementById('classfied').innerHTML += (`<span>${defaultJson[grades][floats]}、</span>`)
                            } else if (in_arry(floats, availableFloatsArr) && grades == "隐秘级") {
                                document.getElementById("covert").innerHTML += (`<span>${defaultJson[grades][floats]}、</span>`)
                            }
                        }

                    }

                }   //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


                function testDig(dig, averFloat) {
                    var similarity = 8
                    /*     console.log("testDig working")
                        console.log(tempFloats_arr) */
                    let lengthtemp = tempFloats_arr.length
                    /*  console.log(wantedFloat) */


                    finalItems[dig] = myfloatZone_AlltTest(tempFloats_arr, lengthtemp, dig)


                    console.log("testDig finished")
                }



                console.log("generation finished")
            }




            function myfloatZone_AlltTest(tempFloats_arr, lengthtemp, dig) {
                var similarity = 8
                console.log("myfloatZone_AlltTest working")
                let availableFloatsArr = []
                let wantedFloat = document.getElementById(birthday_input_id).value.replace('-', '').replace('-', '')
                for (let i = 0; i < lengthtemp; i++) {
                    let minFloat = tempFloats_arr[i].split("-")[0]
                    let maxFloat = tempFloats_arr[i].split("-")[1]
                    if ((maxFloat < wantedFloat / (10 ** dig)) || minFloat > wantedFloat / (10 ** dig)) { } else {

                        /*    console.log(minFloat,maxFloat) */
                        ////////////////////////////////////test with final_float and nine_repeate
                        let averFloat = (wantedFloat / (10 ** dig) - minFloat) / (maxFloat - minFloat)
                        let nine_floats = nineFloats_repeate(averFloat, dig)

                        let tenAverTrade = tradeUp(getIeee754_32(nine_floats + getIeee754_32(averFloat)), minFloat, maxFloat)
                        console.log(tenAverTrade, dig, similarity)
                        console.log("for")
                        /*   console.log(dig) */


                        if (String((tenAverTrade * 10 ** dig)).substr(0, similarity) == wantedFloat) {
                            availableFloatsArr.push(tempFloats_arr[i])////////////////////////different code
                            console.log("==")
                        } else if (String((tenAverTrade * 10 ** dig)).substring(0, similarity) <= wantedFloat) {
                            let simpleTenR_lower = tenAverTrade;
                            let num = 1
                            while (simpleTenR_lower <= wantedFloat / (10 ** dig) && String((simpleTenR_lower * 10 ** dig)).substr(0, similarity) != wantedFloat) {

                                simpleTenR_lower = tradeUp(getIeee754_32(nine_floats + getIeee754_32(averFloat + num / (10 ** dig))), minFloat, maxFloat)
                                num++
                                console.log(simpleTenR_lower.toFixed(16))
                            }
                            if (String((simpleTenR_lower * 10 ** dig)).substr(0, similarity) == wantedFloat) { availableFloatsArr.push(tempFloats_arr[i]) } else { }////////////////////////different code



                        } else {
                            let simpleTenR_greater = tenAverTrade;
                            let num = 1
                            console.log(simpleTenR_greater)

                            while (simpleTenR_greater >= wantedFloat / (10 ** dig) && String((simpleTenR_greater * 10 ** dig)).substr(0, similarity) != wantedFloat) {

                                simpleTenR_greater = tradeUp(getIeee754_32(nine_floats + getIeee754_32(averFloat - num / (10 ** dig))), minFloat, maxFloat)
                                num++
                                console.log(simpleTenR_greater)
                            }
                            if (String((simpleTenR_greater * 10 ** dig)).substr(0, similarity) == wantedFloat) { availableFloatsArr.push(tempFloats_arr[i]) } else { }////////////////////////different code





                        }







                    }
                }
                return availableFloatsArr

            }







            /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////



            //end if methord == 0


            function myfloat_single_test(wantedFloat, minFloat, maxFloat, similarity) {


                //////////////////////////////遍历
                for (let dig = 8; dig < 12; dig++) {
                    let ieee32_wanted = getIeee754_32(wantedFloat / (10 ** dig))


                    if (String(ieee32_wanted * 10 ** dig).substr(0, similarity) == wantedFloat) {
                        let averFloat = (wantedFloat / (10 ** dig) - minFloat) / (maxFloat - minFloat)
                        test_float(averFloat, dig, minFloat, maxFloat)



                    } else if (String(ieee32_wanted * 10 ** dig).substr(0, similarity) > wantedFloat) {
                        let temp_ieee32_wanted = ieee32_wanted
                        let num = 1
                        while (String(getIeee754_32(temp_ieee32_wanted) * 10 ** dig).substr(0, similarity) > wantedFloat) {
                            num++
                            temp_ieee32_wanted = temp_ieee32_wanted - num / (10 ** dig)
                        }
                        if (String(getIeee754_32(temp_ieee32_wanted) * 10 ** dig).substr(0, similarity) == wantedFloat) {

                            let averFloat = (wantedFloat / (10 ** dig) - minFloat) / (maxFloat - minFloat)
                            test_float(averFloat, dig, minFloat, maxFloat)
                        } else {
                            finalFloats.push(`磨损：  ${wantedFloat / (10 ** dig)}  不存在，相似磨损为 ${ieee32_wanted} </br>`)

                        }




                    } else {
                        let temp_ieee32_wanted = ieee32_wanted
                        let num = 1
                        while (String(getIeee754_32(temp_ieee32_wanted) * 10 ** dig).substr(0, similarity) < wantedFloat) {
                            num++
                            temp_ieee32_wanted = temp_ieee32_wanted + num / (10 ** dig)
                        }
                        if (String(getIeee754_32(temp_ieee32_wanted) * 10 ** dig).substr(0, similarity) == wantedFloat) {

                            let averFloat = (wantedFloat / (10 ** dig) - minFloat) / (maxFloat - minFloat)
                            test_float(averFloat, dig, minFloat, maxFloat)

                        } else {
                            finalFloats.push(`磨损：  ${wantedFloat / (10 ** dig)}  不存在，相似磨损为 ${ieee32_wanted} </br>`)

                        }

                    }





                    /*  let averFloat = (wantedFloat / (10 ** dig) - minFloat) / (maxFloat - minFloat)
                             test_float(averFloat, dig, minFloat, maxFloat) */




                    ////////////////////////////////////get final_float




                    ////////////////////////////////////generate result

                    function test_float(averFloat, dig, minFloat, maxFloat) {






                        let nine_floats = nineFloats_repeate(averFloat, dig)

                        let tenAverTrade = tradeUp(getIeee754_32(nine_floats + getIeee754_32(averFloat)), minFloat, maxFloat)
                        if (String((tenAverTrade * 10 ** dig)).substr(0, similarity) == wantedFloat) {
                            finalFloats.push(`可做${tenAverTrade}</br>`)

                        } else if (String((tenAverTrade * 10 ** dig)).substring(0, similarity) <= wantedFloat) {
                            let simpleTenR_lower = tenAverTrade;
                            let num = 1
                            while (simpleTenR_lower <= wantedFloat / (10 ** dig) && String((simpleTenR_lower * 10 ** dig)).substr(0, similarity) != wantedFloat) {

                                simpleTenR_lower = tradeUp(getIeee754_32(nine_floats + getIeee754_32(averFloat + num / (10 ** dig))), minFloat, maxFloat)
                                num++
                                console.log(simpleTenR_lower.toFixed(16))
                            }
                            if (String((simpleTenR_lower * 10 ** dig)).substr(0, similarity) == wantedFloat) { finalFloats.push(`可做${simpleTenR_lower}</br>`) } else { finalFloats.push(`该枪皮 ${wantedFloat / (10 ** dig)} 不可做,相似磨损</br> ${tenAverTrade}  '   or    '  ${simpleTenR_lower}</br> `) }



                        } else {
                            let simpleTenR_greater = tenAverTrade;
                            let num = 1
                            console.log(simpleTenR_greater)

                            while (simpleTenR_greater >= wantedFloat / (10 ** dig) && String((simpleTenR_greater * 10 ** dig)).substr(0, similarity) != wantedFloat) {

                                simpleTenR_greater = tradeUp(getIeee754_32(nine_floats + getIeee754_32(averFloat - num / (10 ** dig))), minFloat, maxFloat)
                                num++
                                console.log(simpleTenR_greater)
                            }
                            if (String((simpleTenR_greater * 10 ** dig)).substr(0, similarity) == wantedFloat) { finalFloats.push(`可做${simpleTenR_greater}</br>`) } else { finalFloats.push(`该枪皮 ${wantedFloat / (10 ** dig)} 不可做,相似磨损</br> ${tenAverTrade}     or     ${simpleTenR_greater}  </br> `) }





                        }





                    }
                }////第一层for循环结束
                ///////////////////////////////遍历0.2、0.020、0.002、0.0002
                for (let j = 0; j < 4; j++) {
                    console.log(finalFloats[j])
                    document.getElementById("outPut_queryFloat").innerHTML += finalFloats[j] + (`</br>`)
                }


            }


        }//end check_Anime_Concentration










        ///////////////////default Json



        let defaultJson = {
            "工业级": {
                "0-0.08": [
                    "远光灯"
                ]
            },
            "军规级": {
                "0-0.03": [
                    "渐变强酸"
                ],
                "0-0.75": ["尼罗河"],
                "0-0.73": ["钢铁三角洲"]
            },
            "受限级": {
                "0-1": [
                    "墨岩",
                    "树蝰"
                ],
                "0-0.67": ["太空猫"]
            },
            "保密级": {
                "0-0.7": [
                    "水灵",
                    "幻影破坏者"
                ],
                "0-0.77": [
                    "可燃冰"
                ],
                "0-0.8": [
                    "金粉蛇肆"
                ],
                "0-0.85": [
                    "毁灭者"
                ],
                "0-0.67": [
                    "混沌点阵"
                ],
                "0-0.6": ["死神"],
                "0-1": [
                    "脑洞大开"
                ]
            },
            "隐秘级": {
                "0-1": [
                    "一发入魂",
                    "红色代号",
                    "夜愿",
                    "深海复仇ak+暴怒野兽awp",
                    "枪响人亡usp&金蛇缠绕"
                ],
                "0-0.8": [
                    "印花集沙鹰",
                    "反冲精英a4",
                    "星使",
                    "霓虹骑士"
                ],
                "0-0.85": ["usp印花集"],
                "0-0.84": ["二号玩家"]
            }
        }


        /*         for (let grades in defaultJson) {
        
                    for (let floats in defaultJson[grades]) {
        
        
        
        
                        defaultJson[grades][floats].forEach(function name(items, index) {
                            console.log(items)
                        })
                    }
                }
         */
        //////collect FLoats zone
        function floatsCollect(defaultJson) {


            let floats_list = []



            for (let grades in defaultJson) {

                for (let floats in defaultJson[grades]) {
                    if (!(in_arry(floats, floats_list))) {
                        floats_list.push(floats)

                    }
                }
            }


            return (floats_list)



        }


        console.log(floatsCollect(defaultJson))
        ////////function in_arry
        function in_arry(item, arry) {
            for (let i of arry) {
                if (item == i) { return true }
            }
            return false
        }

        /*
         
                let minfloattemp =floats.split("-")[0]   
                      let maxFloattemp=floats.split("-")[1]       
                            console.log(minfloattemp,maxFloattemp) */




























    </script>


</body>

</html>
